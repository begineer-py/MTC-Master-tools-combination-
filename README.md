```markdown
ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒå…è²¬è²æ˜ (ä¸­æ–‡ç‰ˆ)
ã€æ³•å¾‹å…è²¬è²æ˜èˆ‡ä½¿ç”¨æ¢ç´„ã€‘
æˆæ¬Šèˆ‡åˆæ³•æ€§ï¼šæœ¬å·¥å…·åƒ…é™æ–¼ã€Œå—æ§ç’°å¢ƒä¸‹çš„å®‰å…¨ç ”ç©¶ã€èˆ‡ã€Œç²å¾—æ˜ç¢ºæ›¸é¢æˆæ¬Šçš„æ»²é€æ¸¬è©¦ã€ã€‚ä½¿ç”¨è€…åœ¨å°ä»»ä½•ç›®æ¨™åŸ·è¡Œæƒæã€åˆ†ææˆ–æ‰“æ“Šä»»å‹™å‰ï¼Œå¿…é ˆç¢ºä¿æ“æœ‰è©²ç›®æ¨™çš„æ‰€æœ‰æ¬Šæˆ–åˆæ³•æˆæ¬Šã€‚
åˆ‘äº‹è²¬ä»»è‡ªè² ï¼šæœªç¶“æˆæ¬Šçš„æƒæèˆ‡æ»²é€å¯èƒ½é•åã€Šä¸­è¯æ°‘åœ‹åˆ‘æ³•ã€‹ç¬¬ 358 æ¢è‡³ç¬¬ 362 æ¢ï¼ˆå¦¨å®³é›»è…¦ä½¿ç”¨ç½ªï¼‰æˆ–å…¶ä»–åœ‹å®¶/åœ°å€çš„ç¶²è·¯å®‰å…¨æ³•å¾‹ï¼ˆå¦‚ç¾åœ‹ CFAAï¼‰ã€‚é–‹ç™¼è€…å°æ–¼ä½¿ç”¨è€…ä¹‹ä»»ä½•é•æ³•è¡Œç‚ºä¸è² ä»»ä½•é€£å¸¶è²¬ä»»ã€‚
ç„¡æ“”ä¿è²æ˜ï¼šæœ¬å¹³å°ã€ŒæŒ‰åŸæ¨£ï¼ˆAs-Isï¼‰ã€æä¾›ã€‚é–‹ç™¼è€…ä¸ä¿è­‰å·¥å…·çš„ç©©å®šæ€§ã€æº–ç¢ºæ€§ï¼Œäº¦ä¸å°å› ä½¿ç”¨æœ¬å·¥å…·é€ æˆçš„ä»»ä½•ç›´æ¥æˆ–é–“æ¥æå¤±ï¼ˆåŒ…æ‹¬ä½†ä¸é™æ–¼ç³»çµ±å´©æ½°ã€æ•¸æ“šä¸Ÿå¤±ã€æ¥­å‹™ä¸­æ–·æˆ–æ³•å¾‹è¿½è¨´ï¼‰æ‰¿æ“”è²¬ä»»ã€‚
æƒ…å ±æº–ç¢ºæ€§ï¼šAI åˆ†æèˆ‡è‡ªå‹•åŒ–å·¥å…·å¯èƒ½å­˜åœ¨ã€Œèª¤å ±ï¼ˆFalse Positiveï¼‰ã€æˆ–ã€Œæ¼å ±ï¼ˆFalse Negativeï¼‰ã€ã€‚æ‰€æœ‰æƒ…å ±åƒ…ä¾›åƒè€ƒï¼Œä½¿ç”¨è€…æ‡‰åœ¨æ±ºç­–å‰è‡ªè¡Œè¤‡æ ¸ã€‚
ä½¿ç”¨è€…æ‰¿è«¾ï¼šä¸€æ—¦ä¸‹è¼‰ã€ç·¨è­¯æˆ–é‹è¡Œæœ¬å°ˆæ¡ˆä»£ç¢¼ï¼Œå³ä»£è¡¨æ‚¨å·²é–±è®€ã€ç†è§£ä¸¦å®Œå…¨åŒæ„æœ¬è²æ˜çš„æ‰€æœ‰æ¢æ¬¾ã€‚

LEGAL DISCLAIMER
FOR EDUCATIONAL AND ETHICAL TESTING PURPOSES ONLY.
Usage of MTC (Master Tools Combination) for attacking targets without prior mutual consent is illegal. It is the end user's responsibility to obey all applicable local, state, and federal laws.
Developers assume no liability and are not responsible for any misuse or damage caused by this program.
By using this software, you agree that you are solely responsible for your own actions.
The software is provided "as is", without warranty of any kind, express or implied.
# C2 Django AI - å…¨æ–¹ä½ç¶²è·¯å®‰å…¨æƒæå¹³å°

## é …ç›®æ¦‚è¿°

C2 Django AIæ˜¯ä¸€å€‹å…¨æ–¹ä½çš„ç¶²è·¯å®‰å…¨æƒæå’Œæ»²é€æ¸¬è©¦å¹³å°ï¼Œé›†æˆäº†ç¾ä»£åŒ–çš„AIåˆ†æèƒ½åŠ›ã€‚è©²ç³»çµ±æ¡ç”¨Djangoå¾Œç«¯æ¡†æ¶ï¼ŒçµåˆReactå‰ç«¯ç•Œé¢ï¼Œæä¾›å¾è³‡ç”¢ç™¼ç¾ã€ç«¯å£æƒæåˆ°æ·±åº¦AIåˆ†æçš„å®Œæ•´å·¥ä½œæµç¨‹ã€‚

## æ¶æ§‹ç¸½è¦½

### æ ¸å¿ƒæŠ€è¡“æ£§
- **å¾Œç«¯æ¡†æ¶**: Django 5.2.9 + Django REST Framework
- **æ•¸æ“šåº«**: PostgreSQL (é€šéDockerå®¹å™¨é‹è¡Œ)
- **ä»»å‹™éšŠåˆ—**: Redis + Celery
- **å‰ç«¯**: React 18 + TypeScript + Vite
- **å®¹å™¨åŒ–**: Docker Compose
- **APIä»£ç†**: è‡ªå®šç¾©ä»£ç†æœå‹™æ”¯æŒå¤šå€‹AI API (Gemini, Mistralç­‰)

## ä¸»è¦åŠŸèƒ½æ¨¡çµ„

### 1. æ ¸å¿ƒæ•¸æ“šæ¨¡å‹ (core app)
è² è²¬ç®¡ç†æ‰€æœ‰å®‰å…¨æƒæç›¸é—œçš„æ•¸æ“šå¯¦é«”ï¼š

#### è³‡ç”¢ç®¡ç†
- **Target**: å°ˆæ¡ˆç›®æ¨™ (å¦‚ google.com)
- **Seed**: ç¨®å­è³‡ç”¢ (åŸŸåã€IPç¯„åœã€URL)
- **IP**: IPåœ°å€åŠå…¶ç«¯å£ä¿¡æ¯
- **Port**: é–‹æ”¾ç«¯å£åŠæœå‹™ä¿¡æ¯
- **Subdomain**: å­åŸŸååŠå…¶å±¬æ€§
- **URLResult**: URLæƒæçµæœåŠåˆ†ææ•¸æ“š

#### æƒæè¨˜éŒ„
- **SubfinderScan**: å­åŸŸåç™¼ç¾ä»»å‹™
- **NmapScan**: ç«¯å£æƒæä»»å‹™
- **URLScan**: URLæ·±åº¦æƒæä»»å‹™

#### AIåˆ†ææ¨¡å‹
- **IPAIAnalysis**: IPåœ°å€AIåˆ†æ
- **SubdomainAIAnalysis**: å­åŸŸåAIåˆ†æ
- **URLAIAnalysis**: URLå…§å®¹AIåˆ†æ

### 2. AIåˆ†æç³»çµ± (analyze_ai app)
é›†æˆå¤šå€‹AIæœå‹™æä¾›å•†é€²è¡Œæ™ºèƒ½åˆ†æï¼š

#### æ”¯æŒçš„AIæœå‹™
- Google Gemini 2.5 Flash
- Mistral AI
- è‡ªå®šç¾©ä»£ç†æœå‹™

#### åˆ†æåŠŸèƒ½
- IPåœ°å€é¢¨éšªè©•ä¼°å’Œæ¼æ´åˆ†æ
- å­åŸŸåæ¥­å‹™é‡è¦æ€§å’ŒæŠ€è¡“æ£§åˆ†æ
- URLå…§å®¹åˆ†æå’Œæ•æ„Ÿä¿¡æ¯æå–

#### æŠ€è¡“ç‰¹é»
- å‹•æ…‹AIæœå‹™åˆ‡æ›å’Œè² è¼‰å‡è¡¡
- GraphQLæ•¸æ“šæŸ¥è©¢å„ªåŒ–
- Tokenä½¿ç”¨é‡æ§åˆ¶å’ŒéŒ¯èª¤è™•ç†
- æ‰¹é‡è™•ç†å’Œé‡è©¦æ©Ÿåˆ¶

### 3. æƒæå·¥å…·é›†æˆ

#### Nmapæƒæå™¨ (nmap_scanner)
- ç•°æ­¥ç«¯å£æƒæä»»å‹™
- XMLçµæœè§£æå’Œæ•¸æ“šåº«å­˜å„²
- æƒæç‹€æ…‹è¿½è¹¤å’ŒéŒ¯èª¤è™•ç†

#### å­åŸŸåç™¼ç¾ (subfinder)
- å¤šä¾†æºå­åŸŸåæšèˆ‰
- DNSè§£æå’ŒCDN/WAFæª¢æ¸¬
- è³‡ç”¢ç”Ÿå‘½é€±æœŸç®¡ç†

#### ç¶²è·¯çˆ¬èŸ² (flaresolverr)
- åçˆ¬èŸ²ä¿è­·ç¹é
- æŠ€è¡“æ£§æª¢æ¸¬ (Wappalyzeré›†æˆ)
- å‹•æ…‹å…§å®¹æ¸²æŸ“æ”¯æŒ

### 4. å‰ç«¯ç•Œé¢ (frontend)
ç¾ä»£åŒ–çš„Reactæ‡‰ç”¨ï¼š

#### ä¸»è¦é é¢
- ç›®æ¨™ç®¡ç†å„€è¡¨æ¿
- æƒæçµæœå±•ç¤º
- å­åŸŸåè©³æƒ…é é¢
- ç¨®å­è³‡ç”¢ç®¡ç†

#### æŠ€è¡“ç‰¹é»
- TypeScripté¡å‹å®‰å…¨
- React Routerå°èˆª
- éŸ¿æ‡‰å¼è¨­è¨ˆ
- RESTful APIé›†æˆ

## å¤–éƒ¨ä¾è³´å’Œæœå‹™

### å®¹å™¨åŒ–æœå‹™ (Docker Compose)
- **PostgreSQL**: ä¸»æ•¸æ“šåº«
- **Redis**: ä»»å‹™éšŠåˆ—å’Œç·©å­˜
- **Hasura**: GraphQL APIå±¤
- **NocoDB**: ç®¡ç†å“¡å¾Œå°ç•Œé¢
- **FlareSolverr**: åçˆ¬èŸ²ä»£ç†
- **FlareProxyGo**: ä»£ç†ç®¡ç†å·¥å…·
- **NyaProxy**: APIå‡å‹»è² è¼‰
### Pythonä¾è³´ (requirements.txt)
- **Webæ¡†æ¶**: Django, DRF, django-ninja
- **æ•¸æ“šåº«**: psycopg2-binary, redis
- **ä»»å‹™è™•ç†**: celery, eventlet, kombu
- **ç¶²è·¯è«‹æ±‚**: requests, httpx, curl_cffi
- **è§£æå·¥å…·**: beautifulsoup4, gql (GraphQL)
- **å®‰å…¨å·¥å…·**: python-nmap, wafw00f, python-Wappalyzer
- **å·¥å…·**: pydantic, PyYAML, loguru

### å¤–éƒ¨å·¥å…·é›†æˆ
- **Nmap**: ç«¯å£æƒæ
- **Subfinder**: å­åŸŸåç™¼ç¾
- **dnsx**: DNSè§£æ
- **cdncheck**: CDN/WAFæª¢æ¸¬

---

## ğŸ›  MTC (Master Tools Combination) éƒ¨ç½²æ‰‹å†Š

### 0. æˆ°å‰æº–å‚™ (System Requirements)
- **OS**: Linux (Ubuntu 22.04+ æœ€ä½³)
- **å·¥å…·**: Docker, Docker Compose V2, Miniconda/Anaconda
- **ç¡¬é«”**: å»ºè­° 2 vCPU / 4GB RAM ä»¥ä¸Š (å› æƒæä»»å‹™è¼ƒåƒè¨˜æ†¶é«”)

### 1. åŸºç¤è¨­æ–½å•Ÿå‹• (The Support)
é€™ä¸€æ­¥å•Ÿå‹•è³‡æ–™åº«ã€å¿«å–ã€ä»£ç†ä¸­å¿ƒèˆ‡ WAF ç¹éæœå‹™ã€‚

```bash
git clone https://github.com/begineer-py/MTC-Master-tools-combination-.git
cd MTC-Master-tools-combination-

# å»ºç«‹ä¸¦é…ç½®ä½ çš„ AI ä»£ç† (é€™æ˜¯ç³»çµ±å•Ÿå‹•çš„é–€ç¥¨)
# å¦‚æœæ²’æœ‰ï¼Œè‡³å°‘è¦å»ºä¸€å€‹ç©ºçš„ï¼Œå¦å‰‡ Django å•Ÿå‹•æœƒå ±éŒ¯
mkdir -p docker
proxies:
  - name: "gemini_json_ai"
    url: "http://localhost:8502/api/gemini_json_ai/"
EOF

# ä¸€éµå•Ÿå‹•å¾Œå‹¤éƒ¨éšŠ
# åŒ…æ‹¬: Postgres, Redis, Hasura, NocoDB, FlareSolverr, NyaProxy
docker compose up -d
```

### 2. é‚è¼¯å¤§è…¦é…ç½® (The Brain)
æˆ‘å€‘ä½¿ç”¨ Conda è·‘ Django èˆ‡ Celeryï¼Œé€™æ¨£ Nmap å¯ä»¥ç›´æ¥è®€å–ç¶²å¡ï¼Œä¸éœ€è¦æè¤‡é›œçš„ Docker ç¶²è·¯ç©¿é€ã€‚

#### A. ç’°å¢ƒå»ºç«‹
```bash
# å»ºç«‹ Python 3.10 ç’°å¢ƒ
conda create -n mtc_env python=3.10 -y
conda activate mtc_env

# å®‰è£ä¾è³´ (ä½¿ç”¨æˆ‘å€‘ç²¾ç°¡å¾Œçš„æ¸…å–®)
pip install -r requirements.txt
```

#### B. ç’°å¢ƒè®Šæ•¸ (.env)
*(è«‹æ ¹æ“šä½ çš„ç’°å¢ƒé…ç½®ç›¸æ‡‰çš„ç’°å¢ƒè®Šæ•¸)*

### 3. åˆå§‹åŒ–æˆ°å ´ (The Initialization)
```bash
# 1. åŸ·è¡Œè³‡æ–™åº«é·ç§»
python manage.py migrate

# 2. å»ºç«‹ç®¡ç†å“¡ (ç”¨ä¾†é€² Django Admin)
python manage.py createsuperuser

# 3. æª¢æŸ¥ç³»çµ±ç‹€æ…‹
python manage.py check
```

### 4. å…¨åŠ›é‹ä½œ (The Execution)
ä½ éœ€è¦é–‹å•Ÿä¸‰å€‹ screen æˆ– tmux è¦–çª—ï¼Œè®“ç³»çµ±æŒä¹…é‹è¡Œï¼š

#### è¦–çª— 1: Django API Server
```bash
conda activate mtc_env
uvicorn c2_core.asgi:application --host 0.0.0.0 --port 8000 --workers 9 --loop uvloop --http httptools --backlog 2048 --limit-concurrency 1000 --reload
```

#### è¦–çª— 2: Celery Worker (ä»»å‹™è™•ç†ä¸­å¿ƒ)
```bash
conda activate mtc_env
python scripts/celery_worker_eventlet.py -A c2_core.celery:app worker -P eventlet -c 100 -l info
```

#### è¦–çª— 3: Celery Beat (å®šæœŸæƒæèª¿åº¦)
```bash
conda activate mtc_env
celery -A c2_core beat -l info
```

### 5. é©—æ”¶æˆæœ (The Triage)
- **Web API**: http://127.0.0.1:8000
- **Hasura Console**: http://127.0.0.1:8085 (ç”¨ä¾†é€²è¡Œè¤‡é›œçš„åœ–è­œæŸ¥è©¢)
- **NocoDB**: http://127.0.0.1:8081 (ç”¨ä¾†åƒçœ‹ Excel ä¸€æ¨£çœ‹ä½ çš„æƒæçµæœ)
- **Django Admin**: http://127.0.0.1:8000/admin (æ‰‹å‹•ç®¡ç† Seed èˆ‡ Target)

## ğŸ’¡ é‹ç¶­ç´°ç¯€ (Ops Notes)

### Nmap åŸ·è¡Œ
å› ç‚º Python è·‘åœ¨å®¿ä¸»æ©Ÿ (Conda)ï¼Œç•¶ Celery è§¸ç™¼ Nmap ä»»å‹™æ™‚ï¼Œå®ƒæœƒç›´æ¥åœ¨å®¿ä¸»æ©ŸåŸ·è¡Œæˆ–é€éå®¿ä¸»æ©Ÿ Docker å•Ÿå‹•ã€‚ç¢ºä¿å®¿ä¸»æ©Ÿå·²å®‰è£ nmap (`sudo apt install nmap`)ã€‚

### æª”æ¡ˆæ¬Šé™
å¦‚æœä½¿ç”¨ subprocess ä¿å­˜æƒæçµæœåˆ°æœ¬åœ°ï¼Œè«‹ç¢ºä¿ mtc_env é‹è¡Œçš„ç”¨æˆ¶æœ‰è®€å¯« `./scans` è³‡æ–™å¤¾çš„æ¬Šé™ã€‚

### Hasura æ­·å²è¨˜éŒ„
é¦–æ¬¡éƒ¨ç½²å¾Œï¼Œè«‹ç™»å…¥ Hasura Consoleï¼Œã€ŒTrackã€æ‰€æœ‰çš„ `core_historical*` è¡¨ï¼Œä¸¦å»ºç«‹ Relationshipï¼Œé€™æ¨£å‰ç«¯æ‰èƒ½çœ‹åˆ°æƒ…å ±è®Šæ›´æ™‚é–“è»¸ã€‚
```
