{% extends "base.html" %}

{% block title %}扫描目标{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/attack.css') }}">
{% endblock %}

{% block content %}
    {# 1. 先定義數據 #}
    <script>
      window.INITIAL_DATA = {
        targetId: "{{ target_id }}",
        target: {
          target_ip: "{{ target.target_ip }}",
          domain: "{{ target.domain }}",
          target_port: "{{ target.target_port }}"
        },
        currentUser: {
          id: 1,
          username: "admin"
        }
      };
    </script>

    {# 2. 然後創建掛載點 #}
    <div id="attack-root"></div>
{% endblock %}

{% block scripts %}
    {# 3. 最後加載 React 應用 #}
    <script src="{{ url_for('static', filename='js/dist/bundle.js') }}"></script>
{% endblock %}